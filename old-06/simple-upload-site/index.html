<!DOCTYPE html>
<html>
  <head>
    <title>Upload Image to Smart Resizer</title>
  </head>
  <body style="font-family: sans-serif; text-align: center; padding: 40px">
    <h1>ðŸ“¤ Upload Image</h1>

    <input type="file" id="fileInput" accept="image/*" /><br /><br />
    <button onclick="uploadImage()">Upload</button>

    <h3>Preview:</h3>
    <img
      id="preview"
      src="#"
      alt="Image Preview"
      style="max-width: 300px; display: none"
    />

    <p id="message"></p>

    <script>
      const fileInput = document.getElementById("fileInput");
      const preview = document.getElementById("preview");
      const message = document.getElementById("message");

      fileInput.addEventListener("change", () => {
        const file = fileInput.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            preview.src = e.target.result;
            preview.style.display = "block";
          };
          reader.readAsDataURL(file);
        }
      });

      async function uploadImage() {
        const file = fileInput.files[0];
        if (!file) return alert("Please choose a file");

        const reader = new FileReader();
        reader.onloadend = async () => {
          const base64 = reader.result.split(",")[1]; // remove data:image/...;base64,
          const res = await fetch("YOUR_API_ENDPOINT_HERE/upload", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              filename: file.name,
              fileContentBase64: base64,
            }),
          });

          const data = await res.json();
          message.innerText = data.message || "Upload complete!";
        };
        reader.readAsDataURL(file);
      }
    </script>
  </body>
</html>
